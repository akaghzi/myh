<%- model_class = Appointment -%>
<div class="page-header">
  <span><%#= model_class %>
	  <%= form_tag patients_path, :method => 'get' do %>
		  <!-- <i class="icon-search"></i> -->
			<%= search_field_tag :search, params[:search], class: "search-query" , 
					placeholder: "patient name" %>
      
		  <%= submit_tag "Search Appointments", class: "btn btn-primary", :name => nil %>
	  <% end %>
  </span>
</div>
<div>

<table class="table table-condensed">
		<tr>
			<th><%= model_class.human_attribute_name(:patient_id) %></th>
			<th><%= model_class.human_attribute_name(:appointment_date) %></th>
			<th><%= model_class.human_attribute_name(:appointment_slot_id) %></th>
			<th><%= model_class.human_attribute_name(:appointment_type) %></th>
			<th><%= model_class.human_attribute_name(:created_at) %></th>
			<th><%=t '.actions', :default => t("helpers.actions") %></th>
		</tr>
		<% @appointments.each do |appointment| %>
		<tr>
			<td><%= link_to appointment.patient.full_name.titleize, patient_path(id: appointment.patient_id) %></td>
			<td><%= appointment.appointment_date %></td>
			<td><%= appointment.appointment_slot.name %></td>
			<td><%= appointment.appointment_type.titleize %></td>
			<td><%= appointment.created_at %></td>
			<td>
					<%= link_to t('.edit', :default => t("helpers.links.edit")),
					edit_appointment_path(appointment), :class => 'btn btn-mini btn-info' %>
					<!-- <%= link_to t('.destroy', :default => t("helpers.links.destroy")),
						appointment_path(appointment),
						:method => :delete,
						:data => { :confirm => t('.confirm', :default => t("helpers.links.confirm", :default => 'Are you sure?')) },
						:class => 'btn btn-mini btn-danger' %> -->
					</td>
			</tr>
			<% end %>
	</table>

	<!-- <%= link_to t('.new', :default => t("helpers.links.new")),
	new_appointment_path,
	:class => 'btn btn-small btn-primary' %> -->
